<p-table
  [value]="products"
  [lazy]="true"
  [paginator]="true"
  [rows]="4"
  [totalRecords]="productsMeta.pagination.total"
  [loading]="isLoadingProducts"
  (onPage)="pageChanged($event)"
>
  <ng-template pTemplate="header">
    <tr>
      <th>Nome</th>
      <th>Categoria</th>
      <th class="w-10rem text-right">Pre√ßo</th>
      <th class="w-10rem"></th>
    </tr>
  </ng-template>
  <ng-template pTemplate="body" let-product>
    <tr>
      <td>
        <div class="flex flex-column">
          <strong>{{ product.attributes.name }}</strong>
          <small>{{ product.attributes.description }}</small>
        </div>
      </td>
      <td>
        <p-tag [value]="product.attributes.category"></p-tag>
      </td>
      <td class="text-right">{{ product.attributes.price | currency : 'BRL' : 'symbol' : '1.2-2' }}</td>
      <td>
        <button
          pButton
          pRipple
          type="button"
          class="p-button-sm p-button-rounded p-button-text"
          (click)="editProduct(product)"
        >
          <i class="material-icons-round">edit</i>
        </button>

        <button
          pButton
          pRipple
          type="button"
          class="p-button-sm p-button-rounded p-button-danger p-button-text"
          (click)="deleteProduct(product.id, $event)"
        >
          <i class="material-icons-round">delete</i>
        </button>
      </td>
    </tr>
  </ng-template>
</p-table>
