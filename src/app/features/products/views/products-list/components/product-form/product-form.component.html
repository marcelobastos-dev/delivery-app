<form [formGroup]="productForm" (ngSubmit)="submit()">
  <div class="p-fluid grid formgrid" formGroupName="attributes">
    <div class="field col-12">
      <label for="fName">Nome</label>
      <input id="fName" pInputText type="text" formControlName="name" />
      <small
        *ngIf="productForm.get('attributes.name')?.invalid && productForm.get('attributes.name')?.dirty"
        class="p-error"
      >
        Campo inválido
      </small>
    </div>

    <div class="field col-12">
      <label for="fDescription">Descrição</label>
      <input id="fDescription" pInputText type="text" formControlName="description" />
      <small
        *ngIf="productForm.get('attributes.description')?.invalid && productForm.get('attributes.description')?.dirty"
        class="p-error"
      >
        Campo inválido
      </small>
    </div>

    <div class="field col-6">
      <label for="fCategory">Categoria</label>
      <p-dropdown
        formControlName="category"
        appendTo="body"
        optionLabel="label"
        optionValue="value"
        [options]="categories"
        [style]="{ width: '100%' }"
      ></p-dropdown>
    </div>

    <div class="field col-6">
      <label for="fPrice">Preço</label>
      <p-inputNumber formControlName="price" [showButtons]="true" inputId="fPrice" mode="currency" currency="BRL">
      </p-inputNumber>
      <small
        *ngIf="productForm.get('attributes.price')?.invalid && productForm.get('attributes.price')?.dirty"
        class="p-error"
      >
        Campo inválido
      </small>
    </div>
  </div>

  <div class="flex align-items-center justify-content-end gap-2 mt-2">
    <button *ngIf="!productId" type="reset" pButton class="p-button-secondary" label="Limpar"></button>
    <button type="submit" pButton label="Salvar"></button>
  </div>
</form>
