<p-card class="block mb-4">
  <h3 class="mt-0">Produtos</h3>

  <form [formGroup]="searchForm" (ngSubmit)="findProducts()">
    <div class="grid mb-3">
      <div class="col-8">
        <input type="text" pInputText formControlName="searchText" class="w-full" />
      </div>

      <div class="col-4">
        <p-dropdown
          formControlName="category"
          optionLabel="label"
          optionValue="value"
          [options]="categories"
          [style]="{ width: '100%' }"
        ></p-dropdown>
      </div>
    </div>

    <div class="flex align-items-center justify-content-end gap-2">
      <button
        type="button"
        pButton
        pRipple
        label="Limpar"
        class="p-button-sm p-button-secondary"
        (click)="clearSearchForm()"
      ></button>
      <button type="submit" pButton pRipple label="Pesquisar" class="p-button-sm"></button>
    </div>
  </form>
</p-card>

<p-table
  [value]="products"
  [lazy]="true"
  [paginator]="true"
  [rows]="4"
  [totalRecords]="productsMeta.pagination.total"
  [loading]="isLoadingProducts"
  (onPage)="findProducts($event)"
>
  <ng-template pTemplate="header">
    <tr>
      <th>Nome</th>
      <th>Categoria</th>
      <th class="w-10rem">Pre√ßo</th>
      <th class="w-10rem"></th>
    </tr>
  </ng-template>
  <ng-template pTemplate="body" let-product>
    <tr>
      <td>{{ product.attributes.name }}</td>
      <td>{{ product.attributes.category }}</td>
      <td>{{ product.attributes.price | currency : 'BRL' : 'symbol' : '1.2-2' }}</td>
      <td>
        <button pButton pRipple type="button" class="p-button-rounded p-button-text">
          <i class="material-icons-round">edit</i>
        </button>
      </td>
    </tr>
  </ng-template>
</p-table>
